<?xml version="1.0" standalone="no"?>

<kickstart>

<description>
http://www.boost.org
</description>

<copyright>
Copyright Rene Rivera 2004-2005
</copyright>

<changelog>
</changelog>

<post>

/bin/mkdir -m 0755 -p /opt/modulefiles/applications/boost

<file name="/opt/modulefiles/applications/boost/1.47.0" perms="0644">
#%Module1.0
module-whatis "boost"
module-whatis "Version: 1.47.0"
module-whatis "Description: boost"
module-whatis "Compiler: gnu"
set boostHome /opt/boost
prepend-path LD_LIBRARY_PATH $boostHome/lib
prepend-path LIBPATH $boostHome/lib
</file>

<file name="/opt/modulefiles/applications/boost/.version.1.47.0">
#%Module1.0
set ModulesVersion "1.47.0"
</file>

/bin/ln -s /opt/modulefiles/applications/boost/.version.1.47.0 \
           /opt/modulefiles/applications/boost/.version

<file name="/opt/modulefiles/applications/.gnu/boost/2.1.5" perms="0644">
#%Module1.0
module-whatis "boost"
module-whatis "Version: 2.1.5"
module-whatis "Description: boost"
module-whatis "Compiler: gnu"
if { ! [info exists env(MPIHOME)] } {
  puts stderr "Need to load an mpi module first"
  exit
} elseif { [string match "*mpich2*" $env(MPIHOME)] } {
  set mpiFlavor mpich2
} elseif { [string match "*mvapich2*" $env(MPIHOME)] } {
  set mpiFlavor mvapich2
} elseif { [string match "*openmpi*" $env(MPIHOME)] } {
  set mpiFlavor openmpi
} else {
  puts stderr "Unknown mpi $env(MPIHOME)"
  exit
}
set boostHome /opt/fftw/2.1.5/gnu/$mpiFlavor
setenv boostHOME $fftwHome
prepend-path LIBPATH $boostHome/lib
</file>
<file name="/opt/modulefiles/applications/.intel/boost/2.1.5" perms="0644">
#%Module1.0
module-whatis "boost"
module-whatis "Version: 2.1.5"
module-whatis "Description: boost"
module-whatis "Compiler: intel"
if { ! [info exists env(MPIHOME)] } {
  puts stderr "Need to load an mpi module first"
  exit
} elseif { [string match "*mpich2*" $env(MPIHOME)] } {
  set mpiFlavor mpich2
} elseif { [string match "*mvapich2*" $env(MPIHOME)] } {
  set mpiFlavor mvapich2
} elseif { [string match "*openmpi*" $env(MPIHOME)] } {
  set mpiFlavor openmpi
} else {
  puts stderr "Unknown mpi $env(MPIHOME)"
  exit
}
set boostHome /opt/fftw/2.1.5/intel/$mpiFlavor
setenv boostHOME $fftwHome
prepend-path LIBPATH $boostHome/lib
</file>
<file name="/opt/modulefiles/applications/.pgi/boost/2.1.5" perms="0644">
#%Module1.0
module-whatis "boost"
module-whatis "Version: 2.1.5"
module-whatis "Description: boost"
module-whatis "Compiler: pgi"
if { ! [info exists env(MPIHOME)] } {
  puts stderr "Need to load an mpi module first"
  exit
} elseif { [string match "*mpich2*" $env(MPIHOME)] } {
  set mpiFlavor mpich2
} elseif { [string match "*mvapich2*" $env(MPIHOME)] } {
  set mpiFlavor mvapich2
} elseif { [string match "*openmpi*" $env(MPIHOME)] } {
  set mpiFlavor openmpi
} else {
  puts stderr "Unknown mpi $env(MPIHOME)"
  exit
}
set boostHome /opt/fftw/2.1.5/pgi/$mpiFlavor
setenv boostHOME $fftwHome
prepend-path LIBPATH $boostHome/lib
</file>

<file name="/opt/modulefiles/applications/.gnu/boost/.version.2.1.5">
#%Module1.0
set ModulesVersion "2.1.5"
</file>
<file name="/opt/modulefiles/applications/.intel/boost/.version.2.1.5">
#%Module1.0
set ModulesVersion "2.1.5"
</file>
<file name="/opt/modulefiles/applications/.pgi/boost/.version.2.1.5">
#%Module1.0
set ModulesVersion "2.1.5"
</file>

</post>

</kickstart>
